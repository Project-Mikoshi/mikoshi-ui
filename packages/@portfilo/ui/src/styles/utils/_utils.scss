// used to add CSS definitions to the global map
@mixin createRules ($rule-map, $variant-defs: ()) {
  @each $name, $def in $rule-map {
    $class-map: map-merge($class-map, ($name: $def)) !global;
  }
}

@mixin outputDecls ($decls) {
  @each $prop, $value in $decls {
    #{$prop}: $value;
  }
}

@mixin outputRules ($rule-map) {
  @each $name, $def in $rule-map {
    .#{$name} {
      @include outputDecls($def);
    }
  }
}

// Used in consuming apps to apply base rules in existing SASS files
@mixin rules ($classes...) {
  @each $class in $classes {
    @include outputDecls(map-get($class-map, $class));
  }
}

@mixin generateColors ($prefix, $attribute) {
  @each $name, $color in $colors {
    @include createRules ((
      '#{$prefix}-#{$name}': (#{$attribute}: $color)
    ));

    #{$prefix}-#{$name} {
      #{$attribute}: $color;
    }
  }
}